{"version":3,"sources":["webpack:///./src/views/set/account.vue","webpack:///./src/views/set/account.vue?53d8","webpack:///./src/scss/set/account.scss?e1d1"],"names":["class","for","back","to","logout","style","img","val","id","type","name","uploadImg","openLightbox","email","lightbox","isOpen","resetImg","closeLightbox","resetName","showErrorMessage","confirmReset","resetEmail","resetPassword","originalPassword","newPassword","checkNewPassword","components","cssIcon_arrowLeft","cssIcon_edit","data","preview","image","created","_this","this","xhr","XMLHttpRequest","onreadystatechange","readyState","status","res","JSON","parse","response","photo","length","open","setRequestHeader","send","stringify","localStorage","getItem","loginCodeName","methods","input","event","target","files","fileSize","Math","round","size","reader","FileReader","onload","e","result","readAsDataURL","formData","FormData","uploadInputTag","document","getElementById","append","console","log","resetItem","password","pwd_ori","pwd_new","pwd_check","isSuccess","oldPassword","setTimeout","removeItem","router","go","render","__scopeId"],"mappings":"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","file":"js/chunk-4c655120.10e850e7.js","sourcesContent":["<template>\r\n  <div class=\"account\">\r\n    <header>\r\n      <div class=\"container\">\r\n        <div class=\"left\" v-clickStyle @click=\"back\">\r\n          <cssIcon_arrowLeft></cssIcon_arrowLeft>\r\n        </div>\r\n        <div class=\"center\">\r\n          帳號設定\r\n        </div>\r\n        <div class=\"right\" v-clickStyle>\r\n          <router-link to=\"login\" @click.native.capture=\"logout\">登出</router-link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <main>\r\n      <div class=\"container\">\r\n        <div class=\"board\">\r\n          <div class=\"photo\">\r\n            <div :style=\"{'background-image': 'url('+ img.val +')'}\">\r\n              <input id=\"uploadImage\" type=\"file\" name=\"file\" @change=\"uploadImg\">\r\n              <label for=\"uploadImage\">\r\n                <div>\r\n                  <cssIcon_edit></cssIcon_edit>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <ol>\r\n            <li>\r\n              <div>姓名</div>\r\n              <div @click=\"openLightbox('name')\">{{ name }}</div>\r\n            </li>\r\n            <li>\r\n              <div>信箱</div>\r\n              <div @click=\"openLightbox('email')\">{{ email }}</div>\r\n            </li>\r\n          </ol>\r\n          <div @click=\"openLightbox('password')\">修改密碼</div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <div class=\"fixbox\" :class=\"{'open': lightbox.isOpen}\">\r\n      <div class=\"lightbox\">\r\n        <div class=\"resetImg\" :class=\"{'open': lightbox.resetImg.isOpen}\">\r\n          <p class=\"show\">檔案大小不可大於10MB</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetName\" :class=\"{'open': lightbox.resetName.isOpen}\">\r\n          <h2>輸入姓名</h2>\r\n          <input type=\"text\" v-model=\"lightbox.resetName.val\">\r\n          <p :class=\"{'show': lightbox.resetName.showErrorMessage}\">欄位不可空白</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('name')\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetEmail\" :class=\"{'open': lightbox.resetEmail.isOpen}\">\r\n          <h2>輸入email</h2>\r\n          <input type=\"text\" v-model=\"lightbox.resetEmail.val\">\r\n          <p :class=\"{'show': lightbox.resetEmail.showErrorMessage}\">欄位不可空白</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('email')\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetPassword\" :class=\"{'open': lightbox.resetPassword.isOpen}\">\r\n          <h2>輸入密碼</h2>\r\n          <ol>\r\n            <li>\r\n              <div>舊密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.originalPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.originalPassword.showErrorMessage}\">密碼輸入錯誤</p>\r\n            </li>\r\n            <li>\r\n              <div>新密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.newPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.newPassword.showErrorMessage}\">欄位不可空白</p>\r\n            </li>\r\n            <li>\r\n              <div>確認新密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.checkNewPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.checkNewPassword.showErrorMessage}\">新密碼輸入不一致</p>\r\n            </li>\r\n          </ol>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('password')\">確定</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router'\r\nimport cssIcon_arrowLeft from '@/components/public/cssIcon_arrowLeft.vue'\r\nimport cssIcon_edit from '@/components/public/cssIcon_edit.vue'\r\n\r\nexport default {\r\n  name: 'account',\r\n  components: {\r\n    cssIcon_arrowLeft, cssIcon_edit\r\n  },\r\n  data() {\r\n    return {\r\n      img: {\r\n        val: null,\r\n      },\r\n      preview: null,\r\n      image: null,\r\n      name: '',\r\n      email: '',\r\n      lightbox: {\r\n        isOpen: false,\r\n        resetImg: {\r\n          isOpen: false,\r\n        },\r\n        resetName: {\r\n          isOpen: false,\r\n          val: '',\r\n          showErrorMessage: false,\r\n        },\r\n        resetEmail: {\r\n          isOpen: false,\r\n          val: '',\r\n          showErrorMessage: false,\r\n        },\r\n        resetPassword: {\r\n          isOpen: false,\r\n          originalPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n          newPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n          checkNewPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n        },\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    let _this = this;\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = function(){\r\n      if(xhr.readyState === 4 && xhr.status === 200){\r\n        let res = JSON.parse(xhr.response);\r\n       _this.name = res.name;\r\n       _this.email = res.email;\r\n       if(res.photo.length > 0) _this.img.val = '/photo/' + res.photo;\r\n      }\r\n    };\r\n    xhr.open('post', '/api/getAccount', false);\r\n    xhr.setRequestHeader('Content-type', 'application/json');\r\n    xhr.send(JSON.stringify({\r\n      email: localStorage.getItem('email'),\r\n      loginCodeName: localStorage.getItem('loginCodeName'),\r\n    }));\r\n  },\r\n  methods: {\r\n    uploadImg(){\r\n      var input = event.target;\r\n      if (input.files) {\r\n        let fileSize = Math.round(input.files[0].size / 1024 / 1024);\r\n        if(fileSize > 10){\r\n          this.openLightbox('img');\r\n        } else {\r\n          var reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.img.val = e.target.result;\r\n          }\r\n          this.image = input.files[0];\r\n          reader.readAsDataURL(input.files[0]);\r\n          let formData = new FormData();\r\n          let uploadInputTag = document.getElementById('uploadImage');\r\n          formData.append('email', localStorage.getItem('email'));\r\n          formData.append('loginCodeName', localStorage.getItem('loginCodeName'));\r\n          formData.append('file', uploadInputTag.files[0]);\r\n          let _this = this;\r\n          let xhr = new XMLHttpRequest();\r\n          xhr.onreadystatechange = function(){\r\n            if(xhr.readyState === 4 && xhr.status === 200){\r\n              let res = JSON.parse(xhr.response);\r\n              console.log(res);\r\n            }\r\n          };\r\n          xhr.open('post', '/album/upload', false);\r\n          xhr.send(formData);\r\n        }\r\n      }\r\n    },\r\n    confirmReset(resetItem){\r\n      switch (resetItem) {\r\n        case 'name':\r\n          let resetName = this.lightbox.resetName;\r\n          if(resetName.val.length > 0){\r\n            this.name = resetName.val;\r\n            this.closeLightbox();\r\n            resetName.showErrorMessage = false;\r\n          } else {\r\n            resetName.showErrorMessage = true;\r\n          }\r\n          break;\r\n        case 'email':\r\n          let resetEmail = this.lightbox.resetEmail;\r\n          if(resetEmail.val.length > 0){\r\n            this.email = resetEmail.val;\r\n            this.closeLightbox();\r\n            resetEmail.showErrorMessage = false;\r\n          } else {\r\n            resetEmail.showErrorMessage = true;\r\n          }\r\n          break;\r\n        case 'password':\r\n          let password = this.lightbox.resetPassword;\r\n          let pwd_ori = password.originalPassword;\r\n          let pwd_new = password.newPassword;\r\n          let pwd_check = password.checkNewPassword;\r\n          pwd_ori.showErrorMessage = (pwd_ori.val.length == 0) ? true : false;\r\n          pwd_new.showErrorMessage = (pwd_new.val.length == 0) ? true : false;\r\n          pwd_check.showErrorMessage = (pwd_new.val !== pwd_check.val) ? true : false;\r\n          if( !pwd_ori.showErrorMessage && !pwd_new.showErrorMessage && !pwd_check.showErrorMessage ){\r\n            let _this = this;\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = function(){\r\n              if(xhr.readyState === 4 && xhr.status === 200){\r\n                if(JSON.parse(xhr.response).isSuccess){\r\n                  pwd_ori.showErrorMessage = false;\r\n                  _this.closeLightbox();\r\n                } else {\r\n                  pwd_ori.showErrorMessage = true;\r\n                }\r\n              }\r\n            };\r\n            xhr.open('post', '/api/resetPassword', false);\r\n            xhr.setRequestHeader('Content-type', 'application/json');\r\n            xhr.send(JSON.stringify({\r\n              email: localStorage.getItem('email'),\r\n              loginCodeName: localStorage.getItem('loginCodeName'),\r\n              oldPassword: pwd_ori.val,\r\n              newPassword: pwd_new.val,\r\n            }));\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    openLightbox(resetItem){\r\n      this.lightbox.isOpen = true;\r\n      switch (resetItem) {\r\n        case 'img':\r\n          this.lightbox.resetImg.isOpen = true;\r\n          break;\r\n        case 'name':\r\n          this.lightbox.resetName.val = this.name;\r\n          this.lightbox.resetName.isOpen = true;\r\n          break;\r\n        case 'email':\r\n          this.lightbox.resetEmail.val = this.email;\r\n          this.lightbox.resetEmail.isOpen = true;\r\n          break;\r\n        case 'password':\r\n          let password = this.lightbox.resetPassword;\r\n          password.originalPassword.val = '';\r\n          password.newPassword.val = '';\r\n          password.checkNewPassword.val = '';\r\n          password.isOpen = true;\r\n          break;\r\n      }\r\n    },\r\n    closeLightbox(){\r\n      let lightbox = this.lightbox;\r\n      lightbox.isOpen = false;\r\n      setTimeout(function(){\r\n        lightbox.resetImg.isOpen = false;\r\n        lightbox.resetName.isOpen = false;\r\n        lightbox.resetEmail.isOpen = false;\r\n        lightbox.resetPassword.isOpen = false;\r\n      }, 300, lightbox);\r\n    },\r\n    logout(){\r\n      let result;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.onreadystatechange = function(){\r\n        if(xhr.readyState === 4 && xhr.status === 200){\r\n          result = JSON.parse(xhr.response).isSuccess;\r\n        }\r\n      };\r\n      xhr.open('post', '/api/logout', false);\r\n      xhr.setRequestHeader('Content-type', 'application/json');\r\n      xhr.send(JSON.stringify({\r\n        email: localStorage.getItem('email'),\r\n        loginCodeName: localStorage.getItem('loginCodeName'),\r\n      }));\r\n      if(result){\r\n        localStorage.removeItem('loginCodeName');\r\n        localStorage.removeItem('email');\r\n      }\r\n    },\r\n    back(){\r\n      router.go(-1);\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped lang=\"scss\" src=\"@/scss/set/account.scss\"></style>","import { render } from \"./account.vue?vue&type=template&id=69c0f242&scoped=true\"\nimport script from \"./account.vue?vue&type=script&lang=js\"\nexport * from \"./account.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/set/account.scss?vue&type=style&index=0&id=69c0f242&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-69c0f242\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./account.scss?vue&type=style&index=0&id=69c0f242&scoped=true&lang=scss\""],"sourceRoot":""}