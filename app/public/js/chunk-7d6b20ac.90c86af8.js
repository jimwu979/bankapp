(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d6b20ac"],{"142e":function(e,t,c){},"25f0":function(e,t,c){"use strict";var n=c("6eeb"),r=c("825a"),o=c("577e"),a=c("d039"),i=c("ad6d"),s="toString",l=RegExp.prototype,u=l[s],d=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=s;(d||f)&&n(RegExp.prototype,s,(function(){var e=r(this),t=o(e.source),c=e.flags,n=o(void 0===c&&e instanceof RegExp&&!("flags"in l)?i.call(e):c);return"/"+t+"/"+n}),{unsafe:!0})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,c){var n=c("1d80"),r=c("577e"),o=c("5899"),a="["+o+"]",i=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(e){return function(t){var c=r(n(t));return 1&e&&(c=c.replace(i,"")),2&e&&(c=c.replace(s,"")),c}};e.exports={start:l(1),end:l(2),trim:l(3)}},"58c7":function(e,t,c){"use strict";c("142e")},7156:function(e,t,c){var n=c("861d"),r=c("d2bb");e.exports=function(e,t,c){var o,a;return r&&"function"==typeof(o=t.constructor)&&o!==c&&n(a=o.prototype)&&a!==c.prototype&&r(e,a),e}},"7db0":function(e,t,c){"use strict";var n=c("23e7"),r=c("b727").find,o=c("44d2"),a="find",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},8201:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var n=c("7a23");Object(n["w"])("data-v-7531a156");var r={class:"container"},o={class:"center"},a={class:"container"},i={class:"classSelector"},s=["onClick"],l=Object(n["g"])("div",null,"+",-1),u=Object(n["g"])("span",null,"添加類別",-1),d={class:"input"},f={class:"calculate"},b={class:"before"},h={class:"calculateSmybol"},m={class:"after"},O={key:1},p={class:"keyboard"},j={class:"number"},y=["onClick"],g=Object(n["g"])("li",{class:"other"},null,-1),v=Object(n["h"])("delete"),I=[v],D={key:0},k={key:1},N=Object(n["h"])("+"),C=[N],S=Object(n["g"])("span",null,"-",-1),A=[S],w={class:"submit"},M=Object(n["g"])("div",null,null,-1),F=[M];function T(e,t,c,v,N,S){var M=Object(n["A"])("cssIcon_arrowLeft"),T=Object(n["A"])("router-link"),_=Object(n["A"])("calendar"),x=Object(n["B"])("clickStyle");return Object(n["t"])(),Object(n["f"])("div",{class:"addRecord",onClick:t[13]||(t[13]=function(e){return S.toggleTypeMenu(!1)})},[Object(n["g"])("header",null,[Object(n["g"])("div",r,[Object(n["K"])(Object(n["g"])("div",{class:"left",onClick:t[0]||(t[0]=function(){return S.back&&S.back.apply(S,arguments)})},[Object(n["i"])(M)],512),[[x]]),Object(n["g"])("div",o,[Object(n["g"])("div",{class:Object(n["o"])(["typeSelector",{open:N.type.selectorIsOpen}])},[Object(n["K"])(Object(n["g"])("div",{class:"headerTitle",onClick:t[1]||(t[1]=Object(n["L"])((function(e){return S.toggleTypeMenu()}),["stop"]))},[Object(n["h"])(Object(n["D"])(N.type.isIncome?"收入":"支出"),1)],512),[[x]]),Object(n["g"])("ul",null,[Object(n["g"])("li",{onClick:t[2]||(t[2]=function(e){return S.selectType(!1)}),class:Object(n["o"])({now:0==N.type.isIncome})},"支出",2),Object(n["g"])("li",{onClick:t[3]||(t[3]=function(e){return S.selectType(!0)}),class:Object(n["o"])({now:1==N.type.isIncome})},"收入",2)])],2)])])]),Object(n["g"])("main",null,[Object(n["g"])("div",a,[Object(n["g"])("ul",i,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(S.classList[N.type.isIncome?"income":"cost"],(function(e,t){return Object(n["t"])(),Object(n["f"])("li",{key:t,class:Object(n["o"])({gray:t!==N.classSelectIndex[N.type.isIncome?"income":"cost"]}),onClick:function(e){return S.selectClass(t)}},[Object(n["g"])("div",{class:Object(n["o"])(["icon",["icon_"+e.iconImg,"color_"+e.iconColor]])},null,2),Object(n["g"])("span",null,Object(n["D"])(e.className),1)],10,s)})),128)),Object(n["g"])("li",null,[Object(n["i"])(T,{to:"addClass"},{default:Object(n["J"])((function(){return[l,u]})),_:1})])]),Object(n["g"])("div",{class:Object(n["o"])(["form",[{open:N.form.isOpen},{enterDescription:N.form.description.onFocus}]])},[Object(n["g"])("div",d,[Object(n["K"])(Object(n["g"])("input",{class:"description",type:"text",placeholder:"備註",onFocus:t[4]||(t[4]=function(e){return S.inputOnFocus(!0)}),onBlur:t[5]||(t[5]=function(e){return S.inputOnFocus(!1)}),"onUpdate:modelValue":t[6]||(t[6]=function(e){return N.form.description.value=e})},null,544),[[n["G"],N.form.description.value]]),Object(n["g"])("div",f,[N.form.recordNumber.calculate.calculateMode?(Object(n["t"])(),Object(n["f"])(n["a"],{key:0},[Object(n["g"])("div",b,Object(n["D"])(N.form.recordNumber.calculate.before),1),Object(n["g"])("div",h,Object(n["D"])(N.form.recordNumber.calculate.isAdd?"+":"-"),1),Object(n["g"])("div",m,Object(n["D"])(N.form.recordNumber.calculate.after),1)],64)):(Object(n["t"])(),Object(n["f"])("div",O,Object(n["D"])(N.form.recordNumber.value),1))])]),Object(n["g"])("div",p,[Object(n["g"])("ol",j,[(Object(n["t"])(),Object(n["f"])(n["a"],null,Object(n["z"])(10,(function(e,t){return Object(n["K"])(Object(n["g"])("li",{onClick:function(e){return S.enterNumber(t)}},[Object(n["h"])(Object(n["D"])(t),1)],8,y),[[x]])})),64)),g,Object(n["K"])(Object(n["g"])("li",{class:"delete",onClick:t[7]||(t[7]=function(){return S.deleteNumber&&S.deleteNumber.apply(S,arguments)})},I,512),[[x]])]),Object(n["g"])("div",null,[Object(n["K"])(Object(n["g"])("div",{class:"calendarBtn",onClick:t[8]||(t[8]=function(e){return S.toggleCalendar(!0)})},[N.form.date.year==S.today.year&&N.form.date.month==S.today.month&&N.form.date.day==S.today.day?(Object(n["t"])(),Object(n["f"])("span",D,"今天")):(Object(n["t"])(),Object(n["f"])("span",k,Object(n["D"])(N.form.date.year),1)),Object(n["g"])("span",null,Object(n["D"])(N.form.date.month)+"/"+Object(n["D"])(N.form.date.day),1)],512),[[x]]),Object(n["K"])(Object(n["g"])("div",{class:"add",onClick:t[9]||(t[9]=function(e){return S.runCalculate(!0)})},C,512),[[x]]),Object(n["K"])(Object(n["g"])("div",{class:"subtract",onClick:t[10]||(t[10]=function(e){return S.runCalculate(!1)})},A,512),[[x]]),Object(n["g"])("div",w,[N.form.recordNumber.calculate.calculateMode?(Object(n["t"])(),Object(n["f"])("div",{key:1,class:"calculate",onClick:t[12]||(t[12]=function(){return S.calculateIsDone&&S.calculateIsDone.apply(S,arguments)})},"=")):(Object(n["t"])(),Object(n["f"])("div",{key:0,class:"cssIcon cssIcon_check",onClick:t[11]||(t[11]=function(){return S.submit&&S.submit.apply(S,arguments)})},F))])])])],2)])]),N.mounted?(Object(n["t"])(),Object(n["d"])(_,{key:0,onCancelSelect:S.cancelSelect,onCheckedDate:S.checkedDate,dateInformation:N.form.date,isOpenFromParent:N.calendarIsOpen},null,8,["onCancelSelect","onCheckedDate","dateInformation","isOpenFromParent"])):Object(n["e"])("",!0)])}Object(n["u"])();c("7db0"),c("d3b7"),c("25f0"),c("4de4"),c("a9e3");var _=c("a18c");Object(n["w"])("data-v-7b43196d");var x={class:"lightbox"},E={class:"title"},L={class:"content"},R={class:"selectMonth"},K={class:"selectDay"},$=["onClick"],P={class:"action"};function W(e,t,c,r,o,a){return Object(n["t"])(),Object(n["f"])("div",{class:Object(n["o"])(["calendar fixbox",{open:c.isOpenFromParent}])},[Object(n["g"])("div",x,[Object(n["g"])("div",E,[Object(n["g"])("span",null,Object(n["D"])(a.today.year)+"年",1),Object(n["g"])("h2",null,Object(n["D"])(a.today.month)+"月"+Object(n["D"])(a.today.day)+"日 週"+Object(n["D"])(["日","一","二","三","四","五","六"][a.today.dayOfTheWeek]),1)]),Object(n["g"])("div",L,[Object(n["g"])("div",R,[Object(n["g"])("span",{onClick:t[0]||(t[0]=function(e){return a.selectMonth(-1)})}),Object(n["g"])("div",null,Object(n["D"])(o.year)+"年"+Object(n["D"])(o.month)+"月",1),Object(n["g"])("span",{onClick:t[1]||(t[1]=function(e){return a.selectMonth(1)})})]),Object(n["g"])("div",K,[Object(n["g"])("ol",null,[(Object(n["t"])(),Object(n["f"])(n["a"],null,Object(n["z"])(["日","一","二","三","四","五","六"],(function(e){return Object(n["g"])("li",null,Object(n["D"])(e),1)})),64))]),Object(n["g"])("ol",null,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(o.firstDayOfTheWeek,(function(e,t){return Object(n["t"])(),Object(n["f"])("li",{key:e})})),128)),(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(o.NumberOfDays,(function(e,t){return Object(n["t"])(),Object(n["f"])("li",{key:e,class:Object(n["o"])({select:t+1==o.selectDate.day&&o.year==o.selectDate.year&&o.month==o.selectDate.month}),onClick:Object(n["L"])((function(t){return a.selectDay(e)}),["stop"])},Object(n["D"])(e),11,$)})),128))])]),Object(n["g"])("div",P,[Object(n["g"])("div",{onClick:t[2]||(t[2]=function(){return a.cancelSelect&&a.cancelSelect.apply(a,arguments)})},"取消"),Object(n["g"])("div",{onClick:t[3]||(t[3]=function(){return a.checkedDate&&a.checkedDate.apply(a,arguments)})},"確定")])])])],2)}Object(n["u"])();var z={name:"calendar",props:["dateInformation","isOpenFromParent"],data:function(){return{year:0,month:0,day:0,NumberOfDays:0,firstDayOfTheWeek:0,selectDate:{year:0,month:0,day:0},isOpen:!1}},mounted:function(){this.initCalendar()},computed:{today:function(){var e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),dayOfTheWeek:e.getDay()}}},methods:{initCalendar:function(){this.isOpen=this.isOpenFromParent;var e=this.dateInformation.year,t=this.dateInformation.month;this.NumberOfDays=new Date(e,t,0).getDate(),this.firstDayOfTheWeek=new Date(e+"/"+t+"/1").getDay(),this.year=this.dateInformation.year,this.month=this.dateInformation.month,this.day=this.dateInformation.day,this.selectDate.year=this.dateInformation.year,this.selectDate.month=this.dateInformation.month,this.selectDate.day=this.dateInformation.day},selectDay:function(e){this.selectDate={year:this.year,month:this.month,day:e}},selectMonth:function(e){this.month+=e,this.month>=13?(this.month=1,this.year++):this.month<=0&&(this.month=12,this.year--),this.NumberOfDays=new Date(this.year,this.month,0).getDate(),this.firstDayOfTheWeek=new Date(this.year+"/"+this.month+"/1").getDay(),this.day=0},cancelSelect:function(){this.isOpen=!1,this.$emit("cancelSelect")},checkedDate:function(){this.isOpen=!1,this.$emit("checkedDate",this.selectDate)}}};c("58c7");z.render=W,z.__scopeId="data-v-7b43196d";var B=z;function V(e,t,c,n,r,o){return null}var G={name:"classBtn",props:{}};G.render=V;var Y=G;function J(e,t,c,n,r,o){return null}var U={name:"keyboard",props:{}};U.render=J;var X=U,q=c("f1b8"),H={name:"addRecord",components:{calendar:B,classBtn:Y,keyboard:X,cssIcon_arrowLeft:q["a"]},data:function(){return{type:{isIncome:!1,selectorIsOpen:!1},classSelectIndex:{income:null,cost:null},form:{isOpen:!1,description:{value:"",onFocus:!1},date:{year:0,month:0,day:0},recordNumber:{value:"0",calculate:{calculateMode:!1,before:"",after:"",isAdd:!0}}},timestamp:[],mounted:!1,calendarIsOpen:!1}},computed:{classList:function(){return this.$store.state.classList},recordId:function(){return this.$route.query.id},record:function(){var e=this;return this.$store.state.recordList.find((function(t){return t._id==e.recordId}))},today:function(){var e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}},beforeMount:function(){if(this.form.date={year:this.recordId?this.record.year:this.today.year,month:this.recordId?this.record.month:this.today.month,day:this.recordId?this.record.day:this.today.day},this.recordId){var e=this.recordId;this.recordId=e,this.type.isIncome=this.record.typeIsIncome,this.form.description.value=this.record.description,this.form.recordNumber.value=this.record.value.toString(),this.form.isOpen=!0,this.timestamp=this.record.timestamp;var t=this,c=this.classList[this.record.typeIsIncome?"income":"cost"].filter((function(e){return t.record.classId==e._id}))[0].order;this.classSelectIndex[this.record.typeIsIncome?"income":"cost"]=c}},mounted:function(){this.mounted=!0},methods:{toggleCalendar:function(e){this.calendarIsOpen=void 0!==e?e:!this.calendarIsOpen},cancelSelect:function(){this.calendarIsOpen=!1},checkedDate:function(e){this.calendarIsOpen=!1,this.form.date=e},runCalculate:function(e){var t=this.form.recordNumber.calculate;t.calculateMode?(t.before=Number(t.before)+Number(t.after)*(t.isAdd?1:-1),t.before=t.before.toString(),t.isAdd=e,t.after=""):(t.after="",t.calculateMode=!0,t.isAdd=e,t.before=this.form.recordNumber.value)},calculateIsDone:function(){var e=this.form.recordNumber.calculate;e.calculateMode=!1,e.after=Number(e.after)*(e.isAdd?1:-1),this.form.recordNumber.value=(Number(e.before)+e.after).toString()},enterNumber:function(e){this.form.recordNumber.calculate.calculateMode?this.form.recordNumber.calculate.after+=e:"0"==this.form.recordNumber.value?this.form.recordNumber.value=e.toString():this.form.recordNumber.value+=e.toString()},deleteNumber:function(){if(this.form.recordNumber.calculate.calculateMode){var e=this.form.recordNumber.calculate;e.after=e.after.substr(0,e.after.length)}else{var t=this.form.recordNumber;t.value=t.value.substr(0,t.value.length-1)}},toggleTypeMenu:function(e){this.type.selectorIsOpen=void 0!==e?e:!this.type.selectorIsOpen},selectType:function(e){this.type.isIncome=e,this.type.selectorIsOpen=!1},selectClass:function(e){this.classSelectIndex[this.type.isIncome?"income":"cost"]=e,this.form.isOpen=!0,this.type.selectorIsOpen=!1},inputOnFocus:function(e){this.form.description.onFocus=void 0!==e?e:!this.form.description.onFocus},back:function(){_["a"].go(-1)},submit:function(){this.$store.commit("updateRecord",{isNew:!!this.recordId,recordId:this.recordId?this.recordId:null,classId:this.$store.state.classList[this.type.isIncome?"income":"cost"][this.classSelectIndex[this.type.isIncome?"income":"cost"]],typeIsIncome:this.type.isIncome,description:this.form.description.value,value:Number(this.form.recordNumber.value),year:this.form.date.year,month:this.form.date.month,day:this.form.date.day,timestamp:this.timestamp}),this.back()}}};c("8f46");H.render=T,H.__scopeId="data-v-7531a156";t["default"]=H},"8f46":function(e,t,c){"use strict";c("fcf5")},a9e3:function(e,t,c){"use strict";var n=c("83ab"),r=c("da84"),o=c("94ca"),a=c("6eeb"),i=c("5135"),s=c("c6b6"),l=c("7156"),u=c("d9b5"),d=c("c04e"),f=c("d039"),b=c("7c73"),h=c("241c").f,m=c("06cf").f,O=c("9bf2").f,p=c("58a8").trim,j="Number",y=r[j],g=y.prototype,v=s(b(g))==j,I=function(e){if(u(e))throw TypeError("Cannot convert a Symbol value to a number");var t,c,n,r,o,a,i,s,l=d(e,"number");if("string"==typeof l&&l.length>2)if(l=p(l),t=l.charCodeAt(0),43===t||45===t){if(c=l.charCodeAt(2),88===c||120===c)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=l.slice(2),a=o.length,i=0;i<a;i++)if(s=o.charCodeAt(i),s<48||s>r)return NaN;return parseInt(o,n)}return+l};if(o(j,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var D,k=function(e){var t=arguments.length<1?0:e,c=this;return c instanceof k&&(v?f((function(){g.valueOf.call(c)})):s(c)!=j)?l(new y(I(t)),c,k):I(t)},N=n?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;N.length>C;C++)i(y,D=N[C])&&!i(k,D)&&O(k,D,m(y,D));k.prototype=g,g.constructor=k,a(r,j,k)}},ad6d:function(e,t,c){"use strict";var n=c("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},fcf5:function(e,t,c){}}]);
//# sourceMappingURL=chunk-7d6b20ac.90c86af8.js.map