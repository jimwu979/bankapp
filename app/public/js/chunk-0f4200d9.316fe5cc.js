(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f4200d9"],{"36b0":function(e,t,n){},"7e45":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=n("cf05"),a=n.n(i);Object(o["w"])("data-v-9b1a5212");var s={key:0,class:"login"},c=Object(o["g"])("div",{class:"logo"},[Object(o["g"])("img",{src:a.a})],-1),l=["onBlur","onFocus","onUpdate:modelValue","type"],u=Object(o["h"])("註冊會員"),r={class:"lightbox"},p=Object(o["h"])(" email或密碼輸入錯誤 ");function d(e,t,n,i,a,d){var g=Object(o["A"])("router-link");return a.isAlreadyLogin?Object(o["e"])("",!0):(Object(o["t"])(),Object(o["f"])("div",s,[c,(Object(o["t"])(!0),Object(o["f"])(o["a"],null,Object(o["z"])(a.inputmodel,(function(e,t){return Object(o["t"])(),Object(o["f"])("div",{class:Object(o["o"])(["input",[{focus:a.inputmodel[t].onFocus},{fill:a.inputmodel[t].val.length>0}]]),key:t},[Object(o["g"])("span",null,Object(o["D"])(a.inputmodel[t]["text"]),1),Object(o["K"])(Object(o["g"])("input",{onBlur:function(e){return d.focusInput(t,!1)},onFocus:function(e){return d.focusInput(t,!0)},"onUpdate:modelValue":function(e){return a.inputmodel[t].val=e},type:a.inputmodel[t]["type"]},null,40,l),[[o["F"],a.inputmodel[t].val]])],2)})),128)),Object(o["g"])("div",{class:"loginbtn",onClick:t[0]||(t[0]=function(){return d.login&&d.login.apply(d,arguments)})},"登入"),Object(o["i"])(g,{class:"signUp",to:"signUp"},{default:Object(o["J"])((function(){return[u]})),_:1}),Object(o["g"])("div",{class:Object(o["o"])(["fixbox",{open:a.errorMessageIsOpen}])},[Object(o["g"])("div",r,[p,Object(o["g"])("div",{onClick:t[1]||(t[1]=function(){return d.closeLightbox&&d.closeLightbox.apply(d,arguments)})},"確定")])],2)]))}Object(o["u"])();var g=n("a18c"),b={name:"login",data:function(){return{isAlreadyLogin:!1,inputmodel:[{text:"email",type:"account",val:"",onFocus:!1},{text:"密碼",type:"password",val:"",onFocus:!1}],errorMessageIsOpen:!1}},beforeCreate:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(e.isAlreadyLogin=JSON.parse(t.response).alreadyLogin)},t.open("post","/api/alreadyLogin",!1),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify({email:localStorage.getItem("email"),loginCodeName:localStorage.getItem("loginCodeName")})),this.isAlreadyLogin&&g["a"].push("/")},methods:{focusInput:function(e,t){this.inputmodel[e].onFocus=t},closeLightbox:function(){this.errorMessageIsOpen=!1},login:function(){var e=this,t=new XMLHttpRequest;t.open("post","/api/login",!1),t.setRequestHeader("Content-type","application/json"),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var n=JSON.parse(t.response);n.isSuccess?(localStorage.setItem("loginCodeName",n.loginCodeName),localStorage.setItem("email",e.inputmodel[0].val),e.$emit("login"),g["a"].push("/")):e.errorMessageIsOpen=!0}},t.send(JSON.stringify({email:this.inputmodel[0].val,password:this.inputmodel[1].val}))}}};n("b4d5");b.render=d,b.__scopeId="data-v-9b1a5212";t["default"]=b},b4d5:function(e,t,n){"use strict";n("36b0")},cf05:function(e,t,n){e.exports=n.p+"img/logo.60f39ac9.png"}}]);
//# sourceMappingURL=chunk-0f4200d9.316fe5cc.js.map