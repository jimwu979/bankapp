(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfcd6fba"],{"04f3":function(t,e,c){"use strict";c("ef13")},"2f86":function(t,e,c){},"85ae":function(t,e,c){"use strict";c("a770")},"8aec":function(t,e,c){"use strict";c("2f86")},"9f44":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var n=c("7a23");Object(n["w"])("data-v-955d7f66");var a={class:"index"},s={class:"container"},o={class:"center"},l={class:"container"},i={class:"total board"},r=Object(n["g"])("span",null,"收入",-1),u=Object(n["g"])("span",null,"支出",-1),b={class:"totalType"},d=Object(n["g"])("span",null,"結餘",-1),O={class:"title"},h=Object(n["h"])("收支: "),j={class:"cost_list"},f={class:"class"},v={class:"number"};function p(t,e,c,p,g,m){var y=Object(n["A"])("cssIcon_hamburger"),I=Object(n["A"])("monthlyCalendar"),_=Object(n["A"])("router-link"),M=Object(n["A"])("cssIcon_add"),D=Object(n["B"])("clickStyle");return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["g"])("header",null,[Object(n["g"])("div",s,[Object(n["K"])(Object(n["g"])("div",{class:"left",onClick:e[0]||(e[0]=function(){return m.openNav&&m.openNav.apply(m,arguments)})},[Object(n["i"])(y)],512),[[D]]),Object(n["g"])("div",o,[Object(n["i"])(I,{onSelectOtherMonth:m.switchMonth,parentYear:g.selectYear,parentMonth:g.selectMonth},null,8,["onSelectOtherMonth","parentYear","parentMonth"])])])]),Object(n["g"])("main",null,[Object(n["g"])("div",l,[Object(n["g"])("div",i,[Object(n["i"])(_,{class:"totalType",to:{path:"/statistics",query:{year:g.selectYear,month:g.selectMonth,isIncome:!0}}},{default:Object(n["J"])((function(){return[r,Object(n["g"])("span",null,Object(n["D"])(m.total.income),1)]})),_:1},8,["to"]),Object(n["i"])(_,{class:"totalType",to:{path:"/statistics",query:{year:g.selectYear,month:g.selectMonth,isIncome:!1}}},{default:Object(n["J"])((function(){return[u,Object(n["g"])("span",null,Object(n["D"])(m.total.cost),1)]})),_:1},8,["to"]),Object(n["g"])("div",b,[d,Object(n["g"])("span",null,Object(n["D"])(m.total.balance),1)])]),(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(g.costList,(function(t,e){return Object(n["K"])((Object(n["t"])(),Object(n["f"])("div",{class:"day board",key:e},[Object(n["g"])("div",O,[Object(n["g"])("div",null,Object(n["D"])(g.selectMonth)+"/"+Object(n["D"])(e+1)+" 週"+Object(n["D"])(m.dayOfTheWeek[e]),1),Object(n["g"])("div",null,[h,Object(n["g"])("span",null,Object(n["D"])(m.dailyCost[e]),1)])]),Object(n["g"])("div",j,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(g.costList[e],(function(t,e){return Object(n["K"])((Object(n["t"])(),Object(n["d"])(_,{class:"cost_item",key:e,to:{path:"recordDetail",query:{id:t._id}}},{default:Object(n["J"])((function(){return[Object(n["g"])("div",{class:Object(n["o"])(["icon","color_"+t.iconColor,"icon_"+t.iconImg])},null,2),Object(n["g"])("div",f,[Object(n["h"])(Object(n["D"])(t.className),1),Object(n["g"])("span",null,Object(n["D"])(t.description),1)]),Object(n["g"])("div",v,Object(n["D"])(t.value),1)]})),_:2},1032,["to"])),[[D]])})),128))])],512)),[[n["H"],t.length>0]])})),128))])]),Object(n["i"])(_,{class:"add_record",to:"/addRecord"},{default:Object(n["J"])((function(){return[Object(n["i"])(M)]})),_:1})])}Object(n["u"])();c("a9e3"),c("159b"),c("4de4");var g=c("5e83");Object(n["w"])("data-v-4447d5a9");var m={class:"cssIcon cssIcon_hamburger"},y=Object(n["g"])("hr",null,null,-1),I=Object(n["g"])("hr",null,null,-1),_=Object(n["g"])("hr",null,null,-1),M=[y,I,_];function D(t,e,c,a,s,o){return Object(n["t"])(),Object(n["f"])("div",m,M)}Object(n["u"])();var w={name:"cssIcon_hamburger"};c("85ae");w.render=D,w.__scopeId="data-v-4447d5a9";var L=w;Object(n["w"])("data-v-3be588c1");var N={class:"cssIcon cssIcon_add"};function Y(t,e,c,a,s,o){return Object(n["t"])(),Object(n["f"])("div",N)}Object(n["u"])();var C={name:"cssIcon_add"};c("8aec");C.render=Y,C.__scopeId="data-v-3be588c1";var k=C,q=(c("c1df"),c("a18c"),{name:"index",components:{monthlyCalendar:g["a"],cssIcon_hamburger:L,cssIcon_add:k},data:function(){return{classList:[],costList:[],selectYear:2021,selectMonth:9,CalendarIsOpen:!1,clickItemsIndex:[null,null]}},beforeMount:function(){this.selectYear=void 0!==this.$route.query.year?Number(this.$route.query.year):(new Date).getFullYear(),this.selectMonth=void 0!==this.$route.query.month?Number(this.$route.query.month):(new Date).getMonth()+1,this.init()},computed:{total:function(){for(var t=this.costList.length,e=0,c=0,n=0;n<t;n++)for(var a=this.costList[n].length,s=0;s<a;s++){var o=this.costList[n][s];o.typeIsIncome?e+=o.value:c+=o.value}c=Math.abs(c);var l=e-c;return{income:e,cost:c,balance:l}},dailyCost:function(){for(var t=this.costList.length,e=[],c=0;c<t;c++){var n=0;this.costList[c].forEach((function(t){n+=t.value})),e.push(n)}return e},dayOfTheWeek:function(){for(var t=this.selectYear,e=this.selectMonth,c=new Date(t,e,0).getDate(),n=[],a=1;a<=c;a++){var s=new Date(t+"/"+e+"/"+a).getDay();n.push(["日","一","二","三","四","五","六"][s])}return n}},methods:{openNav:function(){this.$emit("openNav")},switchMonth:function(t){this.selectYear=t.selectYear,this.selectMonth=t.selectMonth,this.init()},init:function(){this.costList=[];for(var t=new Date(this.selectYear,this.selectMonth,0).getDate(),e=0;e<t;e++)this.costList.push([]);var c=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var t=JSON.parse(n.response);c.classList=t.classList,t.record.forEach((function(t){var e=c.classList.filter((function(e){return e._id==t.classId}));t.iconColor=e[0].iconColor,t.iconImg=e[0].iconImg,t.className=e[0].className,t.value=t.typeIsIncome?t.value:-1*t.value,c.costList[t.day-1].push(t)}))}},n.open("post","/api/readRecord_aMonth",!1),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify({email:localStorage.getItem("email"),loginCodeName:localStorage.getItem("loginCodeName"),year:this.selectYear,month:this.selectMonth}))}}});c("04f3");q.render=p,q.__scopeId="data-v-955d7f66";e["default"]=q},a770:function(t,e,c){},ef13:function(t,e,c){}}]);
//# sourceMappingURL=chunk-bfcd6fba.8389f6e3.js.map