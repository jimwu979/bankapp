(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93bb6cf8"],{"161c":function(e,t,a){"use strict";a.r(t);a("b0c0");var s=a("7a23");Object(s["w"])("data-v-ee06f238");var n={key:0,class:"signUp"},o={class:"container"},l=Object(s["g"])("h2",null,"註冊會員",-1),i={class:"board"},c=Object(s["g"])("label",{for:"name"},"姓名",-1),d=Object(s["g"])("label",{for:"email"},"email",-1),r={key:0,class:"show"},p=Object(s["g"])("label",{for:"password"},"密碼",-1),u=Object(s["g"])("label",{for:"checkPassword"},"確認密碼",-1),h=Object(s["h"])("送出"),b=Object(s["h"])("返回登入頁");function m(e,t,a,m,w,O){var g=Object(s["A"])("router-link");return w.isAlreadyLogin?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("div",n,[Object(s["g"])("div",o,[l,Object(s["g"])("div",i,[c,Object(s["K"])(Object(s["g"])("input",{id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return w.name.val=e})},null,512),[[s["G"],w.name.val]]),Object(s["g"])("p",{class:Object(s["o"])({show:!w.name.done})},"姓名未填寫",2),d,Object(s["K"])(Object(s["g"])("input",{id:"email",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return w.email.val=e}),class:"email"},null,512),[[s["G"],w.email.val]]),Object(s["g"])("p",{class:Object(s["o"])({show:!w.email.done})},"email未填寫",2),w.backendCheckResult.emailIsNew?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("p",r,"此 email 已經申請過")),p,Object(s["K"])(Object(s["g"])("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return w.password.val=e})},null,512),[[s["G"],w.password.val]]),Object(s["g"])("p",{class:Object(s["o"])({show:!w.password.done})},"密碼未填寫",2),u,Object(s["K"])(Object(s["g"])("input",{id:"checkPassword",type:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return w.checkPassword.val=e})},null,512),[[s["G"],w.checkPassword.val]]),Object(s["g"])("p",{class:Object(s["o"])({show:!w.checkPassword.done})},"密碼輸入不一致",2)]),Object(s["i"])(g,{class:"submit",to:"login",onClickCapture:O.checkForm},{default:Object(s["J"])((function(){return[h]})),_:1},8,["onClickCapture"]),Object(s["i"])(g,{class:"goToLogin",to:"login"},{default:Object(s["J"])((function(){return[b]})),_:1})])]))}Object(s["u"])();var w=a("a18c"),O={name:"signUp",data:function(){return{isAlreadyLogin:!1,name:{val:"",done:!0},email:{val:"",done:!0},password:{val:"",done:!0},checkPassword:{val:"",done:!0},fillDone:!1,backendCheckResult:{isSuccess:!1,nameIsFill:!1,emailIsFill:!1,emailIsNew:!0,passwordIsFill:!1}}},beforeCreate:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(e.isAlreadyLogin=JSON.parse(t.response).alreadyLogin)},t.open("post","/api/alreadyLogin",!1),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify({email:localStorage.getItem("email"),loginCode:localStorage.getItem("loginCode")})),this.isAlreadyLogin&&w["a"].push("/")},methods:{checkForm:function(){if(this.name.done=this.name.val.length>0,this.email.done=this.email.val.length>0&&-1!=this.email.val.indexOf("@"),this.password.done=this.password.val.length>0,this.checkPassword.done=this.password.val==this.checkPassword.val,this.fillDone=!!(this.name.done&&this.email.done&&this.password.done&&this.checkPassword.done),this.fillDone){var e,t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(e=JSON.parse(t.response))},t.open("post","/api/signUp",!1),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify({name:this.name.val,email:this.email.val,password:this.password.val,photo:""})),0==e.emailIsNew?(this.backendCheckResult.emailIsNew=!1,event.preventDefault()):this.backendCheckResult.emailIsNew=!0}else event.preventDefault()}}};a("4015");O.render=m,O.__scopeId="data-v-ee06f238";t["default"]=O},4015:function(e,t,a){"use strict";a("af7d")},af7d:function(e,t,a){}}]);
//# sourceMappingURL=chunk-93bb6cf8.c0070432.js.map