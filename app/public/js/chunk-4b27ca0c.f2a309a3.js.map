{"version":3,"sources":["webpack:///./src/views/set/signUp.vue","webpack:///./src/views/set/signUp.vue?8aa9","webpack:///./src/scss/set/signUp.scss?d855"],"names":["class","for","isAlreadyLogin","id","type","name","val","done","email","backendCheckResult","emailIsNew","password","checkPassword","to","checkForm","data","fillDone","isSuccess","nameIsFill","emailIsFill","passwordIsFill","beforeCreate","_this","this","xhr","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","response","alreadyLogin","open","setRequestHeader","send","stringify","localStorage","getItem","loginCodeName","router","push","methods","length","indexOf","res","photo","event","preventDefault","render","__scopeId"],"mappings":"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","file":"js/chunk-4b27ca0c.f2a309a3.js","sourcesContent":["<template>\r\n    <div class=\"signUp\" v-if=\"!isAlreadyLogin\">\r\n        <div class=\"container\">\r\n            <h2>註冊會員</h2>\r\n            <div class=\"board\">\r\n                <label for=\"name\">姓名</label>\r\n                <input id=\"name\" type=\"text\" v-model=\"name.val\">\r\n                <p :class=\"{'show': !name.done}\">姓名未填寫</p>\r\n\r\n                <label for=\"email\">email</label>\r\n                <input id=\"email\" type=\"text\" v-model=\"email.val\" class=\"email\">\r\n                <p :class=\"{'show': !email.done}\">email未填寫</p>\r\n                <p class=\"show\" v-if=\"!backendCheckResult.emailIsNew\">此 email 已經申請過</p>\r\n                \r\n                <label for=\"password\">密碼</label>\r\n                <input id=\"password\" type=\"password\" v-model=\"password.val\">\r\n                <p :class=\"{'show': !password.done}\">密碼未填寫</p>\r\n                \r\n                <label for=\"checkPassword\">確認密碼</label>\r\n                <input id=\"checkPassword\" type=\"password\" v-model=\"checkPassword.val\">\r\n                <p :class=\"{'show': !checkPassword.done}\">密碼輸入不一致</p>\r\n            </div>\r\n            <router-link class=\"submit\" to=\"login\" @click.native.capture=\"checkForm\">送出</router-link>\r\n            <router-link class=\"goToLogin\" to=\"login\">返回登入頁</router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router';\r\n\r\nexport default {\r\n    name: 'signUp',\r\n    data() {\r\n        return {\r\n            isAlreadyLogin: false,\r\n            name: {\r\n                val: '',\r\n                done: true\r\n            },\r\n            email: {\r\n                val: '',\r\n                done: true,\r\n            },\r\n            password: {\r\n                val: '',\r\n                done: true\r\n            },\r\n            checkPassword: {\r\n                val: '',\r\n                done: true\r\n            },\r\n            fillDone: false,\r\n            backendCheckResult: {\r\n                isSuccess: false,\r\n                nameIsFill: false,\r\n                emailIsFill: false,\r\n                emailIsNew: true,\r\n                passwordIsFill: false,\r\n            }\r\n        }\r\n    },\r\n    beforeCreate(){\r\n        let _this = this;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function(){\r\n            if(xhr.readyState === 4 && xhr.status === 200){\r\n                _this.isAlreadyLogin = JSON.parse(xhr.response).alreadyLogin;\r\n            }\r\n        };\r\n        xhr.open('post', '/api/alreadyLogin', false);\r\n        xhr.setRequestHeader(\"Content-type\",\"application/json\");\r\n        xhr.send(JSON.stringify({\r\n            email: localStorage.getItem('email'),\r\n            loginCodeName: localStorage.getItem('loginCodeName'),\r\n        }));\r\n        if(this.isAlreadyLogin) router.push('/');\r\n    },\r\n    methods: {\r\n        checkForm(){\r\n            this.name.done = this.name.val.length > 0 ? true : false;\r\n            this.email.done = this.email.val.length > 0 && this.email.val.indexOf('@') != -1 ? true : false;\r\n            this.password.done = this.password.val.length > 0 ? true : false;\r\n            this.checkPassword.done = this.password.val == this.checkPassword.val ? true : false;\r\n            this.fillDone = this.name.done && \r\n                            this.email.done && \r\n                            this.password.done && \r\n                            this.checkPassword.done ?\r\n                            true : false;\r\n            if(!this.fillDone){\r\n                event.preventDefault();\r\n            } else {\r\n                let res;\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onreadystatechange = function(){\r\n                    if(xhr.readyState === 4 && xhr.status === 200){\r\n                        res = JSON.parse(xhr.response);\r\n                    }\r\n                };\r\n                xhr.open('post', '/api/signUp', false);\r\n                xhr.setRequestHeader(\"Content-type\",\"application/json\");\r\n                xhr.send(JSON.stringify({\r\n                    name: this.name.val,\r\n                    email: this.email.val,\r\n                    password: this.password.val,\r\n                    photo: '',\r\n                }));\r\n                if(res.emailIsNew == false){\r\n                    this.backendCheckResult.emailIsNew = false;\r\n                    event.preventDefault();\r\n                } else {\r\n                    this.backendCheckResult.emailIsNew = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped lang=\"scss\" src=\"@/scss/set/signUp.scss\"></style>","import { render } from \"./signUp.vue?vue&type=template&id=723aa9c4&scoped=true\"\nimport script from \"./signUp.vue?vue&type=script&lang=js\"\nexport * from \"./signUp.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/set/signUp.scss?vue&type=style&index=0&id=723aa9c4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-723aa9c4\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./signUp.scss?vue&type=style&index=0&id=723aa9c4&scoped=true&lang=scss\""],"sourceRoot":""}