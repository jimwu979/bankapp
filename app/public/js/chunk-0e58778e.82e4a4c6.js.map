{"version":3,"sources":["webpack:///./src/views/set/addClass.vue","webpack:///./src/views/set/addClass.vue?3b1b","webpack:///./src/scss/set/addClass.scss?ee19"],"names":["class","toggleTypeMenu","back","iconStyle","icon","color","type","placeholder","className","isOpen","isIncome","selectIncome","item","index","key","selectIcon","selectColor","submit","errorMessageIsOpen","toggleLightbox","name","components","cssIcon_arrowLeft","data","methods","toggleDirection","this","undefined","iconIndex","colorIndex","router","go","length","_this","xhr","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","response","isSuccess","$store","commit","open","setRequestHeader","send","stringify","email","localStorage","getItem","loginCode","iconImg","iconColor","render","__scopeId"],"mappings":"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","file":"js/chunk-0e58778e.82e4a4c6.js","sourcesContent":["<template>\r\n  <div class=\"addClass\" @click=\"toggleTypeMenu(false)\">\r\n    <header>\r\n      <div class=\"container\">\r\n        <div class=\"left\" v-clickStyle @click=\"back\">\r\n          <cssIcon_arrowLeft></cssIcon_arrowLeft>\r\n        </div>\r\n        <div class=\"center\">\r\n          添加新類別\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <main>\r\n      <div class=\"container\">\r\n        <div class=\"newClass\">\r\n          <div :class=\"['icon', 'icon_'+ iconStyle.icon, 'color_'+ iconStyle.color]\"></div>\r\n          <input type=\"text\" placeholder=\"類別名稱\" v-model=\"className\">\r\n          <div class=\"type\" :class=\"{'open': type.isOpen}\" v-clickStyle @click.stop=\"toggleTypeMenu()\">\r\n            <span>{{ type.isIncome ? '收入' : '支出' }}</span>\r\n            <ul>\r\n              <li @click=\"selectIncome(false)\" :class=\"{'now': !type.isIncome}\">支出</li>\r\n              <li @click=\"selectIncome(true)\" :class=\"{'now': type.isIncome}\">收入</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"setIcon\">\r\n          <div>\r\n            <h2>選擇icon</h2>\r\n            <ul>\r\n              <li v-for=\"(item, index) in 16\" \r\n                  :key=\"index\" \r\n                  :class=\"{'now': index == iconStyle.icon}\" \r\n                  @click=\"selectIcon(index)\">\r\n                <div class=\"icon\" :class=\"'icon_'+ index\"></div>\r\n                <span></span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h2>選擇顏色</h2>\r\n            <ul>\r\n              <li v-for=\"(item, index) in 8\" \r\n                  :key=\"index\" \r\n                  :class=\"{'now': index == iconStyle.color}\"\r\n                  @click=\"selectColor(index)\">\r\n                <div class=\"icon\" :class=\"'color_'+ index\"></div>\r\n                <span></span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"submit\" @click=\"submit\">確定</div>\r\n      </div>\r\n    </main>\r\n    <div class=\"fixbox\" :class=\"{'open': errorMessageIsOpen}\">\r\n      <div class=\"lightbox\">\r\n        <p>請填寫類別名稱</p>\r\n        <div @click=\"toggleLightbox(false)\">確定</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router'\r\nimport cssIcon_arrowLeft from '@/components/public/cssIcon_arrowLeft.vue'\r\n\r\nexport default {\r\n  name: 'addClass',\r\n  components: {\r\n    cssIcon_arrowLeft\r\n  },\r\n  data() {\r\n    return {\r\n      iconStyle: {\r\n        icon: 0,\r\n        color: 0\r\n      },\r\n      className: '',\r\n      type: {\r\n        isOpen: false,\r\n        isIncome: false\r\n      },\r\n      errorMessageIsOpen: false,\r\n    }\r\n  },\r\n  methods: {\r\n    toggleTypeMenu(toggleDirection){\r\n        this.type.isOpen = (toggleDirection != undefined) ? toggleDirection : !this.type.isOpen;\r\n    },\r\n    selectIncome(selectIncome){\r\n      this.type.isIncome = selectIncome;\r\n    },\r\n    selectIcon(iconIndex){\r\n      this.iconStyle.icon = iconIndex;\r\n    },\r\n    selectColor(colorIndex){\r\n      this.iconStyle.color = colorIndex;\r\n    },\r\n    back(){\r\n      router.go(-1);\r\n    },\r\n    submit(){\r\n      if(this.className.length > 0){\r\n        let _this = this;\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function(){\r\n          if(xhr.readyState === 4 && xhr.status === 200){\r\n            if(JSON.parse(xhr.response).isSuccess){\r\n              _this.$store.commit('reloadClass');\r\n              _this.back();\r\n            } \r\n          }\r\n        };\r\n        xhr.open('post', '/api/createClass', false);\r\n        xhr.setRequestHeader('Content-type', 'application/json');\r\n        xhr.send(JSON.stringify({\r\n          email: localStorage.getItem('email'),\r\n          loginCode: localStorage.getItem('loginCode'),\r\n          className: this.className,\r\n          isIncome: this.type.isIncome,\r\n          iconImg: this.iconStyle.icon,\r\n          iconColor: this.iconStyle.color,\r\n        }));\r\n      } else {\r\n        this.toggleLightbox(true);\r\n      }\r\n    },\r\n    toggleLightbox(toggleDirection){\r\n      this.errorMessageIsOpen = toggleDirection;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped lang=\"scss\" src=\"@/scss/set/addClass.scss\"></style>","import { render } from \"./addClass.vue?vue&type=template&id=1e5ef910&scoped=true\"\nimport script from \"./addClass.vue?vue&type=script&lang=js\"\nexport * from \"./addClass.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/set/addClass.scss?vue&type=style&index=0&id=1e5ef910&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1e5ef910\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./addClass.scss?vue&type=style&index=0&id=1e5ef910&scoped=true&lang=scss\""],"sourceRoot":""}