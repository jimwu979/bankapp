(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49e697cc"],{c8b2:function(e,t,c){"use strict";c.r(t);var n=c("7a23");Object(n["w"])("data-v-42632586");var o={class:"settingClass"},s={class:"container"},l=Object(n["g"])("div",{class:"center"}," 類別設置 ",-1),i={class:"container"},a={class:"tabs"},r={class:"listbox"},b={class:"olbox"},d=["onClick"],u={class:"className"},g={class:"move"},O=["onClick"],j=["onClick"],m={class:"olbox"},f=["onClick"],p={class:"className"},v={class:"move"},h=["onClick"],C=["onClick"],k=Object(n["h"])("+添加新類別"),I={class:"lightbox"},w=Object(n["g"])("h2",null,"警告",-1),T=Object(n["g"])("p",null,"刪除此類別也會將此類別中的所有紀錄一併刪除",-1);function y(e,t,c,y,_,x){var D=Object(n["A"])("cssIcon_arrowLeft"),H=Object(n["A"])("router-link"),$=Object(n["B"])("clickStyle");return Object(n["t"])(),Object(n["f"])("div",o,[Object(n["g"])("header",null,[Object(n["g"])("div",s,[Object(n["K"])(Object(n["g"])("div",{class:"left",onClick:t[0]||(t[0]=function(){return x.back&&x.back.apply(x,arguments)})},[Object(n["i"])(D)],512),[[$]]),l])]),Object(n["g"])("main",{class:Object(n["o"])({showIncome:_.showIncome})},[Object(n["g"])("div",i,[Object(n["g"])("div",a,[Object(n["g"])("div",{onClick:t[1]||(t[1]=function(e){return x.toggleIncome(!1)})},"支出"),Object(n["g"])("div",{onClick:t[2]||(t[2]=function(e){return x.toggleIncome(!0)})},"收入")]),Object(n["g"])("div",r,[Object(n["g"])("div",null,[Object(n["g"])("div",b,[Object(n["g"])("ol",{style:Object(n["p"])({height:e.$store.state.classList.cost.length*_.listItemHeight+"px"})},[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(e.$store.state.classList.cost,(function(e,t){return Object(n["t"])(),Object(n["f"])("li",{key:t,ref:"li".concat(t),style:Object(n["p"])({top:_.listItemHeight*t+"px"})},[Object(n["g"])("div",{class:"delete",onClick:function(t){return x.deleteClass("cost",e._id)}},null,8,d),Object(n["g"])("div",{class:Object(n["o"])(["icon",["color_"+e.iconColor,"icon_"+e.iconImg]])},null,2),Object(n["g"])("div",u,Object(n["D"])(e.className),1),Object(n["g"])("div",g,[Object(n["g"])("span",{onClick:function(e){return x.moveToTop(!1,!0,t)}},null,8,O),Object(n["g"])("span",{onClick:function(e){return x.moveToTop(!1,!1,t)}},null,8,j)])],4)})),128))],4)]),Object(n["g"])("div",m,[Object(n["g"])("ol",{style:Object(n["p"])({height:e.$store.state.classList.income.length*_.listItemHeight+"px"})},[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(e.$store.state.classList.income,(function(e,t){return Object(n["t"])(),Object(n["f"])("li",{key:t,style:Object(n["p"])({top:_.listItemHeight*t+"px"})},[Object(n["g"])("div",{class:"delete",onClick:function(t){return x.deleteClass("income",e._id)}},null,8,f),Object(n["g"])("div",{class:Object(n["o"])(["icon",["color_"+e.iconColor,"icon_"+e.iconImg]])},null,2),Object(n["g"])("div",p,Object(n["D"])(e.className),1),Object(n["g"])("div",v,[Object(n["g"])("span",{onClick:function(e){return x.moveToTop(!0,!0,t)}},null,8,h),Object(n["g"])("span",{onClick:function(e){return x.moveToTop(!0,!1,t)}},null,8,C)])],4)})),128))],4)])])]),Object(n["i"])(H,{to:"addClass"},{default:Object(n["J"])((function(){return[k]})),_:1})])],2),Object(n["g"])("div",{class:Object(n["o"])(["fixbox",{open:_.deleteTarget.warn}])},[Object(n["g"])("div",I,[w,T,Object(n["g"])("div",null,[Object(n["g"])("span",{onClick:t[3]||(t[3]=function(){return x.cancelDelete&&x.cancelDelete.apply(x,arguments)})},"取消"),Object(n["g"])("span",{onClick:t[4]||(t[4]=function(){return x.confirmDelete&&x.confirmDelete.apply(x,arguments)})},"確定")])])],2)])}Object(n["u"])();c("4de4");var _=c("a18c"),x=c("f1b8"),D={name:"settingClass",components:{cssIcon_arrowLeft:x["a"]},data:function(){return{showIncome:!1,listItemHeight:null,deleteTarget:{type:"",id:"",order:-1,warn:!1},dragClass:{mouseDown:!1,start:0,moveTo:0}}},mounted:function(){this.listItemHeight=this.$refs.li0?this.$refs.li0.clientHeight:0},methods:{moveToTop:function(e,t,c){this.$store.commit("resetClassOrder",{isIncome:e,directionIsTop:t,itemIndex:c})},toggleIncome:function(e){this.showIncome=e},deleteClass:function(e,t){var c=this.$store.state.classList[e].filter((function(e){return e._id==t}))[0].order;this.deleteTarget={type:e,id:t,order:c,warn:!0}},confirmDelete:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&JSON.parse(t.response).isSuccess&&(e.$store.commit("reloadClass"),e.deleteTarget.warn=!1)},t.open("post","/api/deleteClass",!1),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify({email:localStorage.getItem("email"),loginCodeName:localStorage.getItem("loginCodeName"),classId:this.deleteTarget.id,isIncome:"income"==this.deleteTarget.type,order:this.deleteTarget.order}))},cancelDelete:function(){this.deleteTarget.warn=!1},back:function(){_["a"].go(-1)}}};c("f458");D.render=y,D.__scopeId="data-v-42632586";t["default"]=D},f458:function(e,t,c){"use strict";c("fc9c")},fc9c:function(e,t,c){}}]);
//# sourceMappingURL=chunk-49e697cc.c5eb2155.js.map