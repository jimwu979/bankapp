{"version":3,"sources":["webpack:///./src/scss/set/account.scss?b729","webpack:///./src/views/set/account.vue","webpack:///./src/views/set/account.vue?53d8"],"names":["class","for","back","to","logout","style","storeAccount","photo","id","type","name","uploadImg","openLightbox","email","lightbox","isOpen","resetImg","closeLightbox","resetName","val","showErrorMessage","confirmReset","resetEmail","resetPassword","originalPassword","newPassword","checkNewPassword","components","cssIcon_arrowLeft","cssIcon_edit","data","img","preview","image","computed","this","$store","state","account","methods","input","event","target","files","fileSize","Math","round","size","reader","FileReader","onload","e","result","readAsDataURL","formData","FormData","uploadInputTag","document","getElementById","append","localStorage","getItem","_this","xhr","XMLHttpRequest","onreadystatechange","readyState","status","commit","JSON","parse","response","fileName","open","send","resetItem","length","isSuccess","setRequestHeader","stringify","loginCodeName","newName","setItem","newEmail","password","pwd_ori","pwd_new","pwd_check","oldPassword","setTimeout","removeItem","router","go","render","__scopeId"],"mappings":"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","file":"js/chunk-62b12ec2.369b9c68.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./account.scss?vue&type=style&index=0&id=0170ab22&scoped=true&lang=scss\"","<template>\r\n  <div class=\"account\">\r\n    <header>\r\n      <div class=\"container\">\r\n        <div class=\"left\" v-clickStyle @click=\"back\">\r\n          <cssIcon_arrowLeft></cssIcon_arrowLeft>\r\n        </div>\r\n        <div class=\"center\">\r\n          帳號設定\r\n        </div>\r\n        <div class=\"right\" v-clickStyle>\r\n          <router-link to=\"login\" @click.native.capture=\"logout\">登出</router-link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <main>\r\n      <div class=\"container\">\r\n        <div class=\"board\">\r\n          <div class=\"photo\">\r\n            <div :style=\"{'background-image': 'url('+ storeAccount.photo +')'}\">\r\n              <input id=\"uploadImage\" type=\"file\" name=\"file\" @change=\"uploadImg\">\r\n              <label for=\"uploadImage\">\r\n                <div>\r\n                  <cssIcon_edit></cssIcon_edit>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <ol>\r\n            <li>\r\n              <div>姓名</div>\r\n              <div @click=\"openLightbox('name')\">{{ storeAccount.name }}</div>\r\n            </li>\r\n            <li>\r\n              <div>信箱</div>\r\n              <div @click=\"openLightbox('email')\">{{ storeAccount.email }}</div>\r\n            </li>\r\n          </ol>\r\n          <div @click=\"openLightbox('password')\">修改密碼</div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <div class=\"fixbox\" :class=\"{'open': lightbox.isOpen}\">\r\n      <div class=\"lightbox\">\r\n        <div class=\"resetImg\" :class=\"{'open': lightbox.resetImg.isOpen}\">\r\n          <p class=\"show\">檔案大小不可大於10MB</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetName\" :class=\"{'open': lightbox.resetName.isOpen}\">\r\n          <h2>輸入姓名</h2>\r\n          <input type=\"text\" v-model=\"lightbox.resetName.val\">\r\n          <p :class=\"{'show': lightbox.resetName.showErrorMessage}\">欄位不可空白</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('name')\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetEmail\" :class=\"{'open': lightbox.resetEmail.isOpen}\">\r\n          <h2>輸入email</h2>\r\n          <input type=\"text\" v-model=\"lightbox.resetEmail.val\">\r\n          <p :class=\"{'show': lightbox.resetEmail.showErrorMessage}\">欄位不可空白</p>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('email')\">確定</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resetPassword\" :class=\"{'open': lightbox.resetPassword.isOpen}\">\r\n          <h2>輸入密碼</h2>\r\n          <ol>\r\n            <li>\r\n              <div>舊密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.originalPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.originalPassword.showErrorMessage}\">密碼輸入錯誤</p>\r\n            </li>\r\n            <li>\r\n              <div>新密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.newPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.newPassword.showErrorMessage}\">欄位不可空白</p>\r\n            </li>\r\n            <li>\r\n              <div>確認新密碼</div>\r\n              <input type=\"password\" v-model=\"lightbox.resetPassword.checkNewPassword.val\">\r\n              <p :class=\"{'show': lightbox.resetPassword.checkNewPassword.showErrorMessage}\">新密碼輸入不一致</p>\r\n            </li>\r\n          </ol>\r\n          <div class=\"btns\">\r\n            <div @click=\"closeLightbox\">取消</div>\r\n            <div @click=\"confirmReset('password')\">確定</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router'\r\nimport cssIcon_arrowLeft from '@/components/public/cssIcon_arrowLeft.vue'\r\nimport cssIcon_edit from '@/components/public/cssIcon_edit.vue'\r\n\r\nexport default {\r\n  name: 'account',\r\n  components: {\r\n    cssIcon_arrowLeft, cssIcon_edit\r\n  },\r\n  data() {\r\n    return {\r\n      img: {\r\n        val: null,\r\n      },\r\n      preview: null,\r\n      image: null,\r\n      name: '',\r\n      email: '',\r\n      lightbox: {\r\n        isOpen: false,\r\n        resetImg: {\r\n          isOpen: false,\r\n        },\r\n        resetName: {\r\n          isOpen: false,\r\n          val: '',\r\n          showErrorMessage: false,\r\n        },\r\n        resetEmail: {\r\n          isOpen: false,\r\n          val: '',\r\n          showErrorMessage: false,\r\n        },\r\n        resetPassword: {\r\n          isOpen: false,\r\n          originalPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n          newPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n          checkNewPassword: {\r\n            val: '',          \r\n            showErrorMessage: false,\r\n          },\r\n        },\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    storeAccount(){\r\n      return this.$store.state.account;\r\n    },\r\n  },\r\n  methods: {\r\n    uploadImg(){\r\n      var input = event.target;\r\n      if (input.files) {\r\n        let fileSize = Math.round(input.files[0].size / 1024 / 1024);\r\n        if(fileSize > 10){\r\n          this.openLightbox('img');\r\n        } else {\r\n          var reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.img.val = e.target.result;\r\n          }\r\n          this.image = input.files[0];\r\n          reader.readAsDataURL(input.files[0]);\r\n          let formData = new FormData();\r\n          let uploadInputTag = document.getElementById('uploadImage');\r\n          formData.append('email', localStorage.getItem('email'));\r\n          formData.append('loginCodeName', localStorage.getItem('loginCodeName'));\r\n          formData.append('file', uploadInputTag.files[0]);\r\n          let _this = this;\r\n          let xhr = new XMLHttpRequest();\r\n          xhr.onreadystatechange = function(){\r\n            if(xhr.readyState === 4 && xhr.status === 200){\r\n              _this.$store.commit('resetPhoto', '/photo/' + JSON.parse(xhr.response).fileName);\r\n            }\r\n          };\r\n          xhr.open('post', '/album/upload', false);\r\n          xhr.send(formData);\r\n        }\r\n      }\r\n    },\r\n    confirmReset(resetItem){\r\n      switch (resetItem) {\r\n        case 'name':\r\n          let resetName = this.lightbox.resetName;\r\n          if(resetName.val.length == 0){\r\n            resetName.showErrorMessage = true;\r\n          } else {\r\n            let _this = this;\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = function(){\r\n              if(xhr.readyState === 4 && xhr.status === 200){\r\n                if(JSON.parse(xhr.response).isSuccess){\r\n                  _this.$store.commit('resetName', resetName.val);\r\n                }\r\n              }\r\n            };\r\n            xhr.open('post', '/api/resetName', false);\r\n            xhr.setRequestHeader('Content-type', 'application/json');\r\n            xhr.send(JSON.stringify({\r\n              email: localStorage.getItem('email'),\r\n              loginCodeName: localStorage.getItem('loginCodeName'),\r\n              newName: resetName.val,\r\n            }));\r\n            this.closeLightbox();\r\n            resetName.showErrorMessage = false;\r\n          }\r\n          break;\r\n        case 'email':\r\n          let resetEmail = this.lightbox.resetEmail;\r\n          if(resetEmail.val.length == 0){\r\n            resetEmail.showErrorMessage = true;\r\n          } else {\r\n            // this.email = resetEmail.val;\r\n            let _this = this;\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = function(){\r\n              if(xhr.readyState === 4 && xhr.status === 200){\r\n                if(JSON.parse(xhr.response).isSuccess){\r\n                  _this.$store.commit('resetEmail', resetEmail.val);\r\n                  localStorage.setItem('email', resetEmail.val);\r\n                }\r\n              }\r\n            };\r\n            xhr.open('post', '/api/resetEmail', false);\r\n            xhr.setRequestHeader('Content-type', 'application/json');\r\n            xhr.send(JSON.stringify({\r\n              email: localStorage.getItem('email'),\r\n              loginCodeName: localStorage.getItem('loginCodeName'),\r\n              newEmail: resetEmail.val,\r\n            }));\r\n            this.closeLightbox();\r\n            resetEmail.showErrorMessage = false;\r\n          }\r\n          break;\r\n        case 'password':\r\n          let password = this.lightbox.resetPassword;\r\n          let pwd_ori = password.originalPassword;\r\n          let pwd_new = password.newPassword;\r\n          let pwd_check = password.checkNewPassword;\r\n          pwd_ori.showErrorMessage = (pwd_ori.val.length == 0) ? true : false;\r\n          pwd_new.showErrorMessage = (pwd_new.val.length == 0) ? true : false;\r\n          pwd_check.showErrorMessage = (pwd_new.val !== pwd_check.val) ? true : false;\r\n          if( !pwd_ori.showErrorMessage && !pwd_new.showErrorMessage && !pwd_check.showErrorMessage ){\r\n            let _this = this;\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.onreadystatechange = function(){\r\n              if(xhr.readyState === 4 && xhr.status === 200){\r\n                if(JSON.parse(xhr.response).isSuccess){\r\n                  pwd_ori.showErrorMessage = false;\r\n                  _this.closeLightbox();\r\n                } else {\r\n                  pwd_ori.showErrorMessage = true;\r\n                }\r\n              }\r\n            };\r\n            xhr.open('post', '/api/resetPassword', false);\r\n            xhr.setRequestHeader('Content-type', 'application/json');\r\n            xhr.send(JSON.stringify({\r\n              email: localStorage.getItem('email'),\r\n              loginCodeName: localStorage.getItem('loginCodeName'),\r\n              oldPassword: pwd_ori.val,\r\n              newPassword: pwd_new.val,\r\n            }));\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    openLightbox(resetItem){\r\n      this.lightbox.isOpen = true;\r\n      switch (resetItem) {\r\n        case 'img':\r\n          this.lightbox.resetImg.isOpen = true;\r\n          break;\r\n        case 'name':\r\n          // this.lightbox.resetName.val = this.name;\r\n          this.lightbox.resetName.val = this.$store.state.account.name;\r\n          this.lightbox.resetName.isOpen = true;\r\n          break;\r\n        case 'email':\r\n          // this.lightbox.resetEmail.val = this.email;\r\n          this.lightbox.resetEmail.val = this.$store.state.account.email;\r\n          this.lightbox.resetEmail.isOpen = true;\r\n          break;\r\n        case 'password':\r\n          let password = this.lightbox.resetPassword;\r\n          password.originalPassword.val = '';\r\n          password.newPassword.val = '';\r\n          password.checkNewPassword.val = '';\r\n          password.isOpen = true;\r\n          break;\r\n      }\r\n    },\r\n    closeLightbox(){\r\n      let lightbox = this.lightbox;\r\n      lightbox.isOpen = false;\r\n      setTimeout(function(){\r\n        lightbox.resetImg.isOpen = false;\r\n        lightbox.resetName.isOpen = false;\r\n        lightbox.resetEmail.isOpen = false;\r\n        lightbox.resetPassword.isOpen = false;\r\n      }, 300, lightbox);\r\n    },\r\n    logout(){\r\n      let result;\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.onreadystatechange = function(){\r\n        if(xhr.readyState === 4 && xhr.status === 200){\r\n          result = JSON.parse(xhr.response).isSuccess;\r\n        }\r\n      };\r\n      xhr.open('post', '/api/logout', false);\r\n      xhr.setRequestHeader('Content-type', 'application/json');\r\n      xhr.send(JSON.stringify({\r\n        email: localStorage.getItem('email'),\r\n        loginCodeName: localStorage.getItem('loginCodeName'),\r\n      }));\r\n      if(result){\r\n        localStorage.removeItem('loginCodeName');\r\n        localStorage.removeItem('email');\r\n      }\r\n    },\r\n    back(){\r\n      router.go(-1);\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped lang=\"scss\" src=\"@/scss/set/account.scss\"></style>","import { render } from \"./account.vue?vue&type=template&id=0170ab22&scoped=true\"\nimport script from \"./account.vue?vue&type=script&lang=js\"\nexport * from \"./account.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/set/account.scss?vue&type=style&index=0&id=0170ab22&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-0170ab22\"\n\nexport default script"],"sourceRoot":""}