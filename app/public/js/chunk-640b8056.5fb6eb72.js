(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-640b8056"],{6072:function(e,t,n){},"7e45":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a=n("cf05"),i=n.n(a);Object(o["w"])("data-v-12c9c61a");var s={key:0,class:"login"},c=Object(o["g"])("div",{class:"logo"},[Object(o["g"])("img",{src:i.a})],-1),l=["onBlur","onFocus","onUpdate:modelValue","type"],u=Object(o["h"])("登入"),r=Object(o["h"])("註冊會員"),p={class:"lightbox"},d=Object(o["h"])(" email或密碼輸入錯誤 ");function g(e,t,n,a,i,g){var b=Object(o["A"])("router-link");return i.isAlreadyLogin?Object(o["e"])("",!0):(Object(o["t"])(),Object(o["f"])("div",s,[c,(Object(o["t"])(!0),Object(o["f"])(o["a"],null,Object(o["z"])(i.inputmodel,(function(e,t){return Object(o["t"])(),Object(o["f"])("div",{class:Object(o["o"])(["input",[{focus:i.inputmodel[t].onFocus},{fill:i.inputmodel[t].val.length>0}]]),key:t},[Object(o["g"])("span",null,Object(o["D"])(i.inputmodel[t]["text"]),1),Object(o["K"])(Object(o["g"])("input",{onBlur:function(e){return g.focusInput(t,!1)},onFocus:function(e){return g.focusInput(t,!0)},"onUpdate:modelValue":function(e){return i.inputmodel[t].val=e},type:i.inputmodel[t]["type"]},null,40,l),[[o["F"],i.inputmodel[t].val]])],2)})),128)),Object(o["i"])(b,{class:"loginbtn",to:"/",onClickCapture:g.login},{default:Object(o["J"])((function(){return[u]})),_:1},8,["onClickCapture"]),Object(o["i"])(b,{class:"signUp",to:"signUp"},{default:Object(o["J"])((function(){return[r]})),_:1}),Object(o["g"])("div",{class:Object(o["o"])(["fixbox",{open:i.errorMessageIsOpen}])},[Object(o["g"])("div",p,[d,Object(o["g"])("div",{onClick:t[0]||(t[0]=function(){return g.closeLightbox&&g.closeLightbox.apply(g,arguments)})},"確定")])],2)]))}Object(o["u"])();var b=n("a18c"),f={name:"login",data:function(){return{isAlreadyLogin:!1,inputmodel:[{text:"email",type:"account",val:"",onFocus:!1},{text:"密碼",type:"password",val:"",onFocus:!1}],errorMessageIsOpen:!1}},beforeCreate:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(e.isAlreadyLogin=JSON.parse(t.response).alreadyLogin)},t.open("post","/api/alreadyLogin",!1),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify({email:localStorage.getItem("email"),loginCodeName:localStorage.getItem("loginCodeName")})),this.isAlreadyLogin&&b["a"].push("/")},methods:{focusInput:function(e,t){this.inputmodel[e].onFocus=t},closeLightbox:function(){this.errorMessageIsOpen=!1},login:function(){var e=this,t=new XMLHttpRequest;t.open("post","/api/login",!1),t.setRequestHeader("Content-type","application/json"),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var n=JSON.parse(t.response);n?(localStorage.setItem("loginCodeName",n.loginCodeName),localStorage.setItem("email",e.inputmodel[0].val),e.$emit("login")):(e.errorMessageIsOpen=!0,event.preventDefault())}},t.send(JSON.stringify({email:this.inputmodel[0].val,password:this.inputmodel[1].val}))}}};n("ab01");f.render=g,f.__scopeId="data-v-12c9c61a";t["default"]=f},ab01:function(e,t,n){"use strict";n("6072")},cf05:function(e,t,n){e.exports=n.p+"img/logo.60f39ac9.png"}}]);
//# sourceMappingURL=chunk-640b8056.5fb6eb72.js.map